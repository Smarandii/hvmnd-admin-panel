<!DOCTYPE html>
<html>
  <head>
    <title>{% block page_title %}{% endblock %}</title>

    {% block links %}{% endblock %}
    <!-- Chart.js CDN is included globally so any template can use it -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    {% block scripts %}{% endblock %}
  </head>
<body>

  <header>
    <div class="container">
      <div id="branding">
        <a href="/"><h1><span class="highlight">User</span> Management System</h1></a>
      </div>

      {% if session.get('logged_in') %}
      <nav>
        <ul>
          <li><a href="{{ url_for('users.list_users') }}">Users</a></li>
          <li><a href="{{ url_for('nodes_bp.edit_nodes') }}">Edit Nodes</a></li>
          <li><a href="{{ url_for('stats_bp.dashboard') }}">Dashboard</a></li> <!-- NEW -->
          <li class="current"><a href="{{ url_for('logout') }}">Logout</a></li>
        </ul>
      </nav>
      {% endif %}
    </div>
  </header>

  <main>
    {% block content %}{% endblock %}
  </main>
</body>
</html>
